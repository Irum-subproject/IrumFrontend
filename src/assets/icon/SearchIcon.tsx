import {SvgXml} from 'react-native-svg';
import IconPropsInterface from 'assets/icon/iconPropsInterface.ts';
import {useTheme} from 'styled-components';
import styled from 'styled-components/native';

function SearchIcon({color, size, rotate}: IconPropsInterface) {
  const {palette} = useTheme();
  const paletteColor = palette[color as keyof typeof palette];
  const realSize = size ? size : 18;

  return (
    <IconContainer rotate={rotate} size={size}>
      <SvgXml
        width={realSize}
        height={realSize}
        xml={`
          <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_155_811)">
              <path d="M0 7.35109C0 8.3644 0.190379 9.31475 0.571137 10.2021C0.951897 11.0896 1.48005 11.8711 2.15559 12.5466C2.83112 13.2221 3.6126 13.7503 4.50001 14.1311C5.38742 14.5118 6.33778 14.7021 7.35109 14.7021C8.14945 14.7021 8.91095 14.5793 9.63559 14.3337C10.3603 14.0881 11.0236 13.7503 11.6254 13.3204L16.1576 17.8618C16.2682 17.9663 16.3895 18.0446 16.5215 18.0968C16.6535 18.149 16.7933 18.1751 16.9407 18.1751C17.1495 18.1751 17.3337 18.1275 17.4934 18.0323C17.653 17.937 17.7774 17.8066 17.8664 17.6408C17.9555 17.475 18 17.2907 18 17.088C18 16.9407 17.9739 16.8025 17.9217 16.6735C17.8695 16.5446 17.7943 16.431 17.6961 16.3327L13.1914 11.8005C13.6643 11.1863 14.0343 10.5015 14.3014 9.74615C14.5686 8.99079 14.7021 8.19244 14.7021 7.35109C14.7021 6.33778 14.5118 5.38742 14.1311 4.50001C13.7503 3.6126 13.2221 2.83112 12.5466 2.15559C11.8711 1.48005 11.0896 0.951897 10.2021 0.571137C9.31475 0.190379 8.3644 0 7.35109 0C6.33778 0 5.38742 0.190379 4.50001 0.571137C3.6126 0.951897 2.83112 1.48005 2.15559 2.15559C1.48005 2.83112 0.951897 3.6126 0.571137 4.50001C0.190379 5.38742 0 6.33778 0 7.35109ZM1.57523 7.35109C1.57523 6.55272 1.72416 5.80503 2.022 5.10799C2.31986 4.41096 2.7344 3.79683 3.26561 3.26561C3.79683 2.7344 4.41096 2.31986 5.10799 2.022C5.80503 1.72416 6.55273 1.57523 7.35109 1.57523C8.14945 1.57523 8.89715 1.72416 9.59418 2.022C10.2912 2.31986 10.9038 2.7344 11.4319 3.26561C11.9601 3.79683 12.3746 4.41096 12.6756 5.10799C12.9765 5.80503 13.1269 6.55272 13.1269 7.35109C13.1269 8.14945 12.9765 8.89715 12.6756 9.59418C12.3746 10.2912 11.9601 10.9038 11.4319 11.4319C10.9038 11.9601 10.2912 12.3746 9.59418 12.6756C8.89715 12.9765 8.14945 13.1269 7.35109 13.1269C6.55273 13.1269 5.80503 12.9765 5.10799 12.6756C4.41096 12.3746 3.79683 11.9601 3.26561 11.4319C2.7344 10.9038 2.31986 10.2912 2.022 9.59418C1.72416 8.89715 1.57523 8.14945 1.57523 7.35109Z"
              fill=${color ? paletteColor : palette.gray400}/>
            </g>
            <defs>
              <clipPath id="clip0_155_811">
                <rect width="18" height="18.1751" fill="white"/>
              </clipPath>
            </defs>
          </svg>
      `}
      />
    </IconContainer>
  );
}

const IconContainer = styled.View<{
  rotate: number | undefined;
  size: number | undefined;
}>`
  transform: rotate(${props => props.rotate ?? 0}deg);
  ${props =>
    props.size &&
    `width: ${props.size}px;
    height: ${props.size}px;`}
`;

export default SearchIcon;
